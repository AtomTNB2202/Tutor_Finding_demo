<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Tutor Profile</title>
  <link rel="stylesheet" href="../css/style.css"/>
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
</head>
<body class="bg-animated">
  <div id="app">
    <!-- Sidebar Tutor -->
    <div id="sidebar"></div>

    <main class="content container">
      <!-- HEADER -->
      <header class="header-welcome fade-in">
        <div class="left">
          <h1>Tutor Profile</h1>
          <p class="muted">
            Personal information and mentoring statistics.
          </p>
        </div>
      </header>

      <!-- TOP GRID: PROFILE CARD + STATS -->
      <section class="grid-2 mt">
        <!-- PROFILE CARD -->
        <section class="card fade-in">
          <div class="row" style="align-items:flex-start; gap:16px;">
            <img id="profAvatarTutor"
                 class="avatar-large"
                 src="https://i.pravatar.cc/120?img=33"
                 alt="Tutor avatar"/>

            <div>
              <h2 id="profNameTutor">Tutor Name</h2>
              <p id="profMajorTutor" class="muted">Major: —</p>
              <p id="profEmailTutor" class="muted small">
                <i class="fa-solid fa-envelope"></i>
                <span>email@example.com</span>
              </p>
              <p class="muted small">
                <i class="fa-solid fa-id-badge"></i>
                <span id="profIdTutor">Tutor ID: —</span>
              </p>
            </div>
          </div>

          <hr class="mt"/>

          <div class="row" style="gap:12px; flex-wrap:wrap;">
            <div class="field grow">
              <label>Short bio</label>
              <p class="muted small" id="profBioTutor">
                “This is a demo tutor profile. In the real system,
                tutor can describe their experience, teaching style
                and preferred topics.”
              </p>
            </div>
            <button type="button" class="btn outline small"
                    onclick="alert('Edit profile is demo only in this prototype.')">
              <i class="fa-regular fa-pen-to-square"></i>
              Edit Profile
            </button>
          </div>
        </section>

        <!-- STATS CARD -->
        <section class="card fade-in">
          <h2>Mentoring Stats</h2>
          <div class="kpi-row">
            <div class="kpi-card kpi-blue">
              <div class="kpi-main">
                <div class="kpi-title">Current mentees</div>
                <div class="kpi-num" id="tutorProfMentees">0</div>
              </div>
              <i class="fa-solid fa-users kpi-icon"></i>
            </div>

            <div class="kpi-card kpi-green">
              <div class="kpi-main">
                <div class="kpi-title">Sessions done</div>
                <div class="kpi-num" id="tutorProfSessions">0</div>
              </div>
              <i class="fa-solid fa-chalkboard-teacher kpi-icon"></i>
            </div>

            <div class="kpi-card kpi-red">
              <div class="kpi-main">
                <div class="kpi-title">Average rating</div>
                <div class="kpi-num" id="tutorProfRating">—</div>
              </div>
              <i class="fa-solid fa-star kpi-icon"></i>
            </div>
          </div>
        </section>
      </section>

      <!-- SESSION HISTORY -->
      <section class="card mt slide-up">
        <h2>Session History</h2>
        <table class="table lift-on-hover" id="tutorProfileHistoryTable">
          <thead>
            <tr>
              <th>Date</th>
              <th>Time</th>
              <th>Mentee</th>
              <th>Subject</th>
              <th>Type</th>
              <th>Status</th>
              <th>Rating</th>
            </tr>
          </thead>
          <tbody>
            <!-- JS sẽ fill -->
          </tbody>
        </table>
      </section>
    </main>
  </div>

  <!-- Sidebar Tutor -->
  <script>
    fetch('../partials/sidebar-tutor.html')
      .then(r => r.text())
      .then(html => {
        document.getElementById('sidebar').innerHTML = html;
        const path = location.pathname.split('/').pop();
        document
          .querySelectorAll('.sidebar nav a')
          .forEach(a => {
            if (a.getAttribute('href') === path) {
              a.classList.add('active');
            }
          });
      });
  </script>
  <script src="../js/main.js"></script>
</body>
</html>
